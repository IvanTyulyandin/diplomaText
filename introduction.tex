\section*{Введение}

\emph{Блокчейн} — это распределенное, неизменяемое хранилище данных, которое обеспечивает процесс записи транзакций и отслеживания различных активов в бизнес-сетях. 
У каждого участника сети хранится копия истории проведенных операций, на основе которой проверяется валидность последующих транзакций в сети.
Данная технология ускоряет процесс обмена, уменьшает риски и снижает стоимость для всех вовлечённых сторон. 
Впервые блокчейн был применен в 2008 году для реализации криптовалюты \name{Bitcoin}~\cite {satoshi_nakamoto}. 
Структура блокчейна выглядит следующим образом: транзакции объединяются в \emph{блоки}, которые хранятся в истории в виде односвязного списка.
В каждом блоке содержится хеш от пре\-ды\-ду\-ще\-го блока.
Таким способом хранения информации достигается иммутабельность --- одно из ключевых свойств блокчейна.
%\begin{figure}[h]
% 	\includegraphics[width=\textwidth]{blockchain.png}
%	\caption{Концептуальная структура блока}
%	\label {block_structure}
%\end{figure}

Существуют блокчейны двух видов: \emph{публичные} (permissionless) и \emph{приватные} (permissioned).
В приватных блокчейнах все стороны известны, и их можно идентифицировать.
Каждому пользователю выдаются права доступа, выполнение которых можно обеспечить с помощью цифровых сертификатов. 
Наличие прав доступа позволяет хранить больше деталей бизнес-сделки.
В противовес этому в публичных сетях пользователи анонимны, при этом любой участник может увидеть содержимое любой транзакции.
Примеры публичных платформ: \name{Bitcoin}, \name{Ethereum}~\cite{EthereumYellowPaper}, приватных: \name{Hyperledger Fabric}~\cite{fabric}.

Для корректной работы блокчейна необходимо, чтобы у всех участников сети была одинаковая история транзакций.
Существуют различные \emph{алгоритмы консенсуса}, которые позволяют синхронизировать историю.
В ходе работы такого алгоритма выбирается участник сети, который предложит следующую транзакцию (или блок), а остальные участники договариваются, принимать эту транзакцию или нет.
Самые известные алгоритмы консенсуса: 
\name{Proof-of-Work}~\cite{POW} (соревнование в решении вы\-чис\-ли\-тель\-но-сложной математической задачи, используется в \name{Bitcoin}, \name{Ethereum}), \name{Proof-of-Stake}~\cite{POS} (участник, предлагающий транзакцию, выбирается по доле активов, пример --- \name{NavCoin}~\cite{NavCoin}), решение задачи о византийских генералах, применяется в \name{Hyperledger Fabric} (\name{Practical Byzantine Fault Tolerance}~\cite{PBFT}).

% https://blockchainhub.net/smart-contracts/
В некоторых блокчейнах есть возможность заключать \emph{смарт-кон\-трак\-ты} (smart con\-tracts).
Они позволяют точно зафиксировать условия бизнес-сдел\-ки в виде программы.
Все стороны выполняют ровно то, что описано в коде.
Результаты выполнения смарт-контракта либо невозможно, либо очень сложно подделать, это зависит от конкретного блокчейна и алгоритма консенсуса.

Существуют различные языки и среды исполнения смарт-кон\-трак\-тов.
Для платформы \name{Ethereum} используются язык \name{Solidity} и байт-код \name{Et\-he\-re\-um Virtual Machine} (далее \name{EVM}), для \name{Bit\-co\-in} --- \name{Bitcoin-script}, в \name{Hyperledger Fabric} смарт-контракты могут быть реализованы на языках \name{Go, Node.js} и \name{Java}.

\name{Hyper\-led\-ger Iro\-ha}~\cite{iroha} --- приватный блокчейн консорциума \name{Hy\-per\-led\-ger} (часть \name{Linux Foundation}) с открытым кодом.
\name{Hyper\-led\-ger Iro\-ha} позиционируется как простая и производительная система с алгоритмом консенсуса \name{YAC}~\cite{YAC}.
У блокчейна \name{Hyperledger Iroha} на текущий момент нет среды исполнения смарт-контрактов, что сильно уменьшает область его использования и ограничивает функциональность.
При наличии смарт-контрактов, данный блокчейн можно будет использовать в различных областях, таких как: торговля, медицина, документооборот и так далее.
Смарт-контракты повысят доверие участников внутри сетей на блокчейне \name{Hyperledger Iroha} и ускорят взаимодействие за счет автоматизации процедуры заключения сделок.

%У блокчейна есть следующие преимущества, которые могут оказать влияние на бизнес:
%\begin{itemize}
%    \item \textbf{Снижение стоимости}\\ 
%    Обмен активами идет напрямую, без посредников;
%    \item \textbf{Повышение скорости обмена}\\ 
%    Членам сети не нужно получать потверждение и верификацию транзакции.
%    от доверенной стороны, сеть регулируется самими участниками;
%    \item \textbf{Устойчивость}\\
%    Система децентрализованна, история транзакций хранится на всех узлах.
%\end{itemize}

\section{Постановка задачи}

Цель данной работы --- реализовать инфраструктуру поддержки среды исполения смарт-контрактов для блокчейна \name{Hyperledger Iroha}.
\\

Были поставлены следующие задачи:
\begin{itemize}
    \item выполнить обзор существующих языков и сред исполнения смарт-кон\-трак\-тов;
    \item разработать архитектуру и программный интерфейс для взаимодействия среды исполнения смарт-контрактов с \name{Hy\-per\-led\-ger Iro\-ha};
    \item реализовать взаимодействие одной из существующих сред исполнения с \name{Hyper\-led\-ger Iro\-ha};
    \item провести тестирование добавленной среды исполнения смарт-кон\-трак\-тов.
\end{itemize}